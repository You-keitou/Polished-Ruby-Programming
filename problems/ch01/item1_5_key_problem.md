# 第1章 1.5 (応用2): Hashキーのカスタマイズ

## 問題：オブジェクトをキーにする (ObjectKey)

あなたはインメモリキャッシュシステムを開発しています。
キーとして文字列やシンボルではなく、ドメインモデル（Userクラスのインスタンスなど）をそのまま使いたいという要望があります。

### 要件
1.  `User` クラスのインスタンスを Hash のキーとして使えるようにする。
2.  **同一性**: 異なるインスタンスであっても、`id` が同じであれば「同じキー」として扱い、値を上書き・取得できるようにする。
3.  **高速性**: Hash内での検索が高速に行えるようにする。

### ヒント
RubyのHashは、キーの同一性を判定するために2つのメソッドを使います。
1.  `hash`: ハッシュ値を返す（整数）。これでバケットを決める。
2.  `eql?`: `hash` が衝突した場合に、厳密に同じかどうか判定する。

これらをオーバーライドしないと、デフォルトでは `object_id` ベース（インスタンスの同一性）になり、要件を満たせません。
